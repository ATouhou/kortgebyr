function a(e){return document.getElementById(e)}function f(e){return document.getElementsByClassName(e)}function k(e){i.hasOwnProperty(e)&&(s=e)}function e(e,t){this.amounts={},this.amounts[t]=e}function E(t,n){for(var a in n.cards){var e=!1;for(var r in t)if(l[r].cards[a]){e=!0;break}if(!e)return!1}return!0}function y(e){var n=e.constructor();for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function h(e){var t=e.avgvalue.scale(this.fee_variable/100).add(this.fee_fixed).scale(e.transactions);return{trans:t,total:t.add(this.fee_monthly)}}function C(t,n){"init"===n&&t.addEventListener("input",d,!1);var e=t.value.trim();return!isNaN(parseFloat(e))&&isFinite(e)&&parseFloat(e)==parseInt(e,10)?(t.classList.remove("error"),parseInt(e,10)):(a(w).classList.add("error"),null)}function O(e,t){a(e).value=parseInt(t,10),a(e).classList.remove("error")}function j(){var e,t=[];for(e in i)t.push(i[e]);for(e in p)t.push(e);return RegExp("^ *([0-9][0-9., ]*)("+t.join("|")+")? *$","i")}function v(r){var n=r.match(_);if(null===n)return null;var t=n[2]?n[2]:i[s];if(t.toLowerCase()===i[s].toLowerCase())t=s;else for(var a in i)if(i[a].toLowerCase()===t.toLowerCase()||a.toLowerCase()===t.toLowerCase()){t=a;break}return new e(parseFloat(n[1].replace(".","").replace(",",".")),t)}function P(e,n){"init"===n&&a(e).addEventListener("input",d,!1);var t=v(a(e).value);return null===t?(a(e).classList.add("error"),null):(a(e).classList.remove("error"),t)}function F(e){a("currency_code").innerHTML=e.value,k(e.value),d()}function S(e,t){a(e).value=t.represent(),a(e).classList.remove("error")}function M(e){var n=a(e),t=n.value.replace("%","").replace(",",".").trim();return!isNaN(parseFloat(t))&&isFinite(t)?(a(e).classList.remove("error"),parseFloat(t)):(a(e).classList.add("error"),null)}function N(e,t){a(e).value=(parseFloat(t)+"%").replace(".",","),a(e).classList.remove("error")}function U(){console.log("hover")}function t(e){var t={};for(n=0;n<e.length;n++)t[e[n]]=1;return t}function d(O){g=performance.now(),console.log((performance.now()-g).toFixed(4)+"ms ::: build() start"),"init"==O&&D();var t={};for(var j in m)"dirty_bits"!==j&&(t[j]=m[j].get(O));var i=y(t.acquirers);if(t.acquirersort=[],t.cards.dankort)i.nets=l.nets,t.dankort_scale=t.cards.visa?.77:1;else{if(delete i.nets,t.dankort_scale=0,!t.cards.visa)return a("tbody").innerHTML="",void alert("Venligst vælg enten Dankort, Visa eller MasterCard.");if(t.cards.forbrugsforeningen)return a("tbody").innerHTML="",void alert("Forbrugsforeningens kontokort kræver en Dankort aftale.")}var M=[],N=document.createElement("tbody");N.id="tbody";for(n in i)if(i[n].fee=i[n].costfn(t),"nets"!=n){for(r=0;r<t.acquirersort.length&&!(i[n].fee.total.dkk()<i[t.acquirersort[r]].fee.total.dkk());r++);t.acquirersort.splice(r,0,n)}i.nets&&t.acquirersort.splice(0,0,"nets");for(n in t.cards)t.cards[n].costfn&&(t.cards[n].fee=t.cards[n].costfn(t));console.log((performance.now()-g).toFixed(3)+"ms ::: time to build PSPs.");var V=function(e,t,n,a){return function(){x(e,t,n,a)}};e:for(w in b){var s=b[w],K=y(s.acquirers||{}),v=new e(0,"DKK"),p=new e(0,"DKK"),c=new e(0,"DKK"),S={};for(n in t.cards)if(!s.cards[n])continue e;for(n in t.features)if(!s.features[n])continue e;if(1!==Object.keys(t.acquirers).length||K[Object.keys(t.acquirers)[0]]){if(0===Object.getOwnPropertyNames(K).length)S=s.cards;else{var f={};for(n=0;n<t.acquirersort.length;n++){var U=t.acquirersort[n];if(K[U]){f[U]=1;var T=Object.getOwnPropertyNames(f).length;if(E(f,t))break;if(f.nets&&2>T||0===T)continue;if(n+1==t.acquirersort.length){f=!1;break}delete f[U]}}if(s.features.multiacquirer,0===Object.getOwnPropertyNames(f).length)continue e;K=f;for(var C in K){for(var k in i[C].cards)S[k]||!t.cards[k]&&u[k].costfn||(u[k].costfn&&(v=v.add(u[k].fee.setup),p=p.add(u[k].fee.monthly)),S[k]=1);var B="nets"==C?t.dankort_scale:1-t.dankort_scale;v=v.add(i[C].fee_setup),p=p.add(i[C].fee_monthly),c=c.add(i[C].fee.trans.scale(B))}}s.costs=s.costfn(t),v=v.add(s.costs.setup),p=p.add(s.costs.monthly),c=c.add(s.costs.trans).add(p);var h,F,_,R=document.createDocumentFragment();for(o in S)h=document.createElement("p"),h.classList.add("card"),F=document.createElementNS("http://www.w3.org/2000/svg","svg"),_=document.createElementNS("http://www.w3.org/2000/svg","use"),_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u[o].logo),_.setAttribute("x","0"),_.setAttribute("y","0"),_.setAttribute("height","15"),F.appendChild(_),h.appendChild(F),R.appendChild(h);var H=document.createElement("p"),A=Math.floor(6*Math.random())+1;H.innerHTML="<a href='#'>"+A+"</a>";var I=document.createDocumentFragment();for(o in K)h=document.createElement("p"),h.className="acquirer",h.innerHTML='<a target="_blank" href="'+l[o].link+'"><img class="acquirer '+o+'" src="/assets/img/psp/'+l[o].logo+'" alt="'+l[o].name+'" title="'+l[o].name+'" /></a>',I.appendChild(h);for(r=0;r<M.length&&!(c.dkk()<M[r]);++r);M.splice(r,0,c.dkk());var d=N.insertRow(r);d.insertCell(-1).innerHTML='<a target="_blank" class="psp '+s.name.substring(0,4).toLowerCase()+'" href='+s.link+'><img src="/assets/img/psp/'+s.logo+'" alt="'+s.name+'" title="'+s.name+'" /><p>'+s.name+"</p></a>",d.insertCell(-1).appendChild(I),d.insertCell(-1).appendChild(R),d.insertCell(-1).textContent=v.print(),d.insertCell(-1).textContent=p.print(),d.insertCell(-1).textContent=c.print();var z=c.scale(1/t.transactions),Q=100*z.scale(1/t.avgvalue.dkk()).dkk();d.insertCell(-1).innerHTML="<p class='kortgebyr'>"+c.scale(1/t.transactions).print()+"</p><p class='procent'>≈ "+Q.toFixed(3).replace(".",",")+" %</p>";var P=document.createElement("div");P.classList.add("infobutton"),P.addEventListener("click",V(s,i,K,t)),P.textContent="Se mere",d.insertCell(-1).appendChild(P)}}q.replaceChild(N,a("tbody")),"init"!==O&&L(),console.log((performance.now()-g).toFixed(3)+"ms ::: done building \n ")}function x(i,p,r,s){var l=document.querySelector(".overlay.pspinfo"),c=l.getElementsByClassName("content")[0],e=document.createDocumentFragment();console.log(r),c.innerHTML="";var h=document.createElement("h3");e.appendChild(h).textContent="Omkostninger til payment gateway:";var v=document.createElement("h4"),a=document.createElement("div"),D=document.createElement("div"),d=document.createElement("div"),m=document.createElement("div");if(a.classList.add("costblock"),a.appendChild(v).textContent=i.name+":",a.appendChild(D).textContent="Oprettelse: "+i.costs.setup.print(),a.appendChild(d).textContent="Abonnement per måned: "+i.costs.monthly.print(),a.appendChild(m).textContent="Transaktionsgebyrer: "+i.costs.trans.print(),e.appendChild(a),Object.keys(r).length>0){e.appendChild(document.createElement("hr"));var f=document.createElement("h3");if(e.appendChild(f).textContent="Indløseromkostninger:",r.nets&&Object.keys(r).length>1){var C=document.createElement("div");e.appendChild(C).textContent="Det antages jævnfør FDIH's statistikker at Nets modtager 77% af transaktionerne (fra visa/dankort samt rene dankort), mens den sekundære indløser modtager 33%."}}for(var u in r){var o=p[u],n=document.createElement("div"),w=document.createElement("h4"),y=document.createElement("div"),K=document.createElement("div"),k=document.createElement("div");n.classList.add("costblock"),n.appendChild(w).textContent=o.name+":",n.appendChild(y).textContent="Oprettelse: "+o.fee_setup.print(),n.appendChild(K).textContent="Abonnement per måned: "+o.fee_monthly.print();var b="nets"===u?s.dankort_scale:1-s.dankort_scale;n.appendChild(k).textContent="Transaktionsgebyrer: "+o.fee.trans.scale(b).print(),e.appendChild(n)}if(s.cards.mobilepay){var t=document.createElement("div"),x=document.createElement("h4"),E=document.createElement("div"),_=document.createElement("div"),g=document.createElement("div");t.classList.add("costblock"),t.appendChild(x).textContent="Extra til Mobilepay oven i indløseromkostninger:",t.appendChild(E).textContent="Oprettelse: "+s.cards.mobilepay.fee.setup.print(),t.appendChild(_).textContent="Abonnement per måned: "+s.cards.mobilepay.fee.monthly.print(),t.appendChild(g).textContent="Transaktionsgebyrer: 1kr ekstra pr. mobilepay transaktion",e.appendChild(t)}c.appendChild(e),l.classList.add("active")}function c(e){this.bitpos=0,this.array=[],this.pos=0}function L(){var a,n,t,s="",o=new c;for(var i in m){if(t=m[i],t.dirty_bits){a=t.dirty_bits,n=t.get_dirty_bits("url");var r=t.get();n&&(s+=r instanceof e?";"+r.string():";"+r)}else{if(!t.bits)return void console.log("opt "+i+" neither has a bits field or a dirty_bits field");a="function"==typeof t.bits?t.bits():t.bits,n=t.get("url")}o.pushbits(n,a)}history.replaceState({foo:"bar"},"","?"+o.encode()+s)}function D(){var t=location.search.replace("?","");if(t){var s,n,a,e,o=new c,r=t.indexOf(";");0>r?r=t.length:s=t.slice(r+1).split(";");for(var i=0;r>i;i++)if(0!==o.pushbase64char(t[i]))return console.log("error parsing bits"),-1;for(var l in m)if(e=m[l],e.dirty_bits)n=e.dirty_bits,a=o.getbits(n),a>0&&(e.set(s[0]),s.shift());else{if(!e.bits)return void console.log("opt "+l+" neither has a bits field or a dirty_bits field");n="function"==typeof e.bits?e.bits():e.bits,a=o.getbits(n),e.set(a)}}}var p={DKK:1,SEK:.8,NOK:.81,EUR:7.461,USD:6.638},i={DKK:"kr",SEK:"kr",NOK:"kr",EUR:"€",USD:"$"},u={dankort:{name:"Dankort",logo:"#dankortlogo"},visa:{name:"Visa",logo:"#visalogo"},mastercard:{name:"MasterCard",logo:"#mastercardlogo"},maestro:{name:"Maestro",logo:"#maestrologo"},diners:{name:"Diners",logo:"#dinerslogo"},amex:{name:"American Express",logo:"#amexlogo"},jcb:{name:"JCB",logo:"#jcblogo"},unionpay:{name:"UnionPay",logo:"#unionpaylogo"},forbrugsforeningen:{name:"Forbrugsforeningen",logo:"#forbrugsforeningenlogo",costfn:function(t){return{setup:new e(0,"DKK"),monthly:new e(0,"DKK"),trans:new e(0,"DKK")}}},mobilepay:{name:"MobilePay",logo:"#mobilepaylogo",costfn:function(t){return{setup:new e(49,"DKK"),monthly:new e(49,"DKK"),trans:new e(1,"DKK")}}}},l={teller:{name:"Teller",logo:"teller.svg",link:"http://www.teller.com",cards:t(["visa","mastercard","maestro","amex","jcb","unionpay","diners","mobilepay"]),fee_setup:new e(1e3,"DKK"),fee_monthly:new e(149,"DKK"),fee_fixed:new e(0,"DKK"),fee_variable:1.5,costfn:function(n){var t=this.fee_fixed.add(n.avgvalue.scale(this.fee_variable/100));return t.dkk()<.7&&(t=new e(.7,"DKK")),t=t.scale(n.transactions),{trans:t,total:t.add(this.fee_monthly)}}},handelsbanken:{name:"Handelsbanken",logo:"handelsbanken.svg",link:"http://www.handelsbanken.dk",cards:t(["visa","mastercard","maestro"]),fee_setup:new e(0,"DKK"),fee_monthly:new e(0,"DKK"),fee_fixed:new e(0,"DKK"),fee_variable:1.5,costfn:h},nets:{name:"Nets",logo:"nets.svg",link:"http://www.nets.eu",cards:t(["dankort","forbrugsforeningen","mobilepay"]),fee_setup:new e(250,"DKK"),fee_monthly:new e(1e3/12,"DKK"),costfn:function(n){var t=1.39,a=n.avgvalue.dkk();return 100>=a&&(t=1.1),50>=a&&(t=.7),t=new e(t,"DKK").scale(n.transactions),{trans:t,total:t.add(this.fee_monthly)}}},swedbank:{name:"Swedbank",logo:"swedbank.png",link:"http://www.swedbank.dk",cards:t(["visa","mastercard","maestro"]),fee_setup:new e(1900,"DKK"),fee_monthly:new e(100,"DKK"),fee_fixed:new e(0,"DKK"),fee_variable:1.6,costfn:h},valitor:{name:"Valitor",logo:"valitor.png",link:"http://www.valitor.com",cards:t(["visa","mastercard","maestro"]),fee_setup:new e(0,"DKK"),fee_monthly:new e(0,"DKK"),fee_fixed:new e(0,"DKK"),fee_variable:1.5,costfn:h},elavon:{name:"Elavon",logo:"elavon.svg",link:"http://www.elavon.com",cards:t(["visa","mastercard","maestro"]),fee_setup:new e(0,"DKK"),fee_monthly:new e(0,"DKK"),fee_fixed:new e(0,"DKK"),fee_variable:1.6,costfn:h},clearhaus:{name:"Clearhaus",logo:"clearhaus.svg",link:"https://www.clearhaus.com",cards:t(["visa","mastercard","maestro","mobilepay"]),fee_setup:new e(0,"DKK"),fee_monthly:new e(0,"DKK"),fee_fixed:new e(0,"DKK"),fee_variable:1.45,costfn:h}},b=[{name:"Braintree",logo:"braintree.svg",link:"https://www.braintreepayments.com",features:t(["antifraud","recurring"]),cards:t(["visa","mastercard","maestro"]),costfn:function(t){return{setup:new e(0,"DKK"),monthly:new e(0,"DKK"),trans:t.avgvalue.scale(2.9/100).add(new e(2.25,"DKK")).scale(t.transactions)}}},{name:"Certitrade",logo:"certitrade.svg",link:"http://www.certitrade.net/kortbetalning.php",features:t(["antifraud"]),acquirers:t(["handelsbanken","nordea","swedbank","clearhaus"]),cards:t(["visa","mastercard","maestro","diners","amex"]),costfn:function(t){return{setup:new e(0,"SEK"),monthly:new e(192,"SEK"),trans:t.avgvalue.scale(.9/100).add(new e(1.5,"SEK")).scale(t.transactions)}}},{name:"Checkout.com",logo:"checkout.svg",link:"https://www.checkout.com",features:t(["antifraud","recurring"]),cards:t(["visa","mastercard","maestro","diners","jcb","amex","unionpay"]),costfn:function(t){return{setup:new e(0,"DKK"),monthly:new e(0,"DKK"),trans:t.avgvalue.scale(.015).add(new e(.15,"EUR")).scale(t.transactions)}}},{name:"DanDomain",logo:"dandomain.svg",link:"https://www.dandomain.dk/e-handel/betalingssystem",features:t(["recurring"]),acquirers:t(["nets","teller"]),cards:t(["dankort","visa","mastercard","maestro","forbrugsforeningen","diners","jcb","amex","unionpay"]),costfn:function(n){var t={};return t.setup=0,t.monthly=0,n.features.recurring&&(t.setup=new e(299,"DKK"),n.transactions<100?t.monthly=99:n.transactions<1e3?t.monthly=149:t.monthly=399,t.monthly=new e(t.monthly,"DKK")),{setup:new e(298,"DKK").add(t.setup),monthly:new e(198,"DKK").add(t.monthly),trans:new e(0,"DKK")}}},{name:"DIBS Start",logo:"dibs.svg",link:"http://dibs.dk",features:{},acquirers:t(["nets"]),cards:t(["dankort","mobilepay"]),costfn:function(t){return{setup:new e(1495,"DKK"),monthly:new e(149,"DKK"),trans:new e(.6,"DKK").scale(t.transactions)}}},{name:"DIBS Medium",logo:"dibs.svg",link:"http://dibs.dk",features:t(["antifraud"]),acquirers:t(["nets","teller","swedbank","valitor","handelsbanken","elavon"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay","diners","mobilepay"]),costfn:function(n){var t={};return t.setup=0,t.monthly=0,n.features.antifraud&&(t.setup=new e(495,"DKK"),t.monthly=new e(49,"DKK")),{setup:new e(4995,"DKK").add(t.setup),monthly:new e(499,"DKK").add(t.monthly),trans:new e(.55,"DKK").scale(n.transactions)}}},{name:"DIBS Premium",logo:"dibs.svg",link:"http://dibs.dk",features:t(["antifraud","recurring","multiacquirer"]),acquirers:t(["nets","teller","swedbank","valitor","handelsbanken","elavon"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay","forbrugsforeningen","diners","mobilepay"]),costfn:function(n){var t={};return t.setup=0,t.monthly=0,n.features.antifraud&&(t.setup=new e(495,"DKK"),t.monthly=new e(49,"DKK")),{setup:new e(10995,"DKK").add(t.setup),monthly:new e(899,"DKK").add(t.monthly),trans:new e(.5,"DKK").scale(n.transactions)}}},{name:"ePay Light",logo:"epay.svg",link:"http://epay.dk",features:t(["antifraud"]),acquirers:t(["nets"]),cards:t(["dankort","forbrugsforeningen","mobilepay"]),costfn:function(t){var a=.25,n=0;return t.features.antifraud&&(n=new e(.3,"DKK").scale(t.transactions)),{setup:new e(399,"DKK"),monthly:new e(99,"DKK"),trans:new e(a,"DKK").scale(Math.max(t.transactions-250,0)).add(n)}}},{name:"ePay Pro",logo:"epay.svg",link:"http://epay.dk",features:t(["antifraud"]),acquirers:t(["nets","teller"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay","forbrugsforeningen","mobilepay"]),costfn:function(t){var a=.25,n=0;return t.features.antifraud&&(n=new e(.3,"DKK").scale(t.transactions)),{setup:new e(599,"DKK"),monthly:new e(199,"DKK"),trans:new e(a,"DKK").scale(Math.max(t.transactions-250,0)).add(n)}}},{name:"ePay Business",logo:"epay.svg",link:"http://epay.dk",features:t(["antifraud","recurring","multiacquirer"]),acquirers:t(["nets","teller","swedbank","handelsbanken","valitor","elavon","clearhaus"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay","forbrugsforeningen","mobilepay"]),costfn:function(t){var r=.25,a=0,n=0;return t.features.antifraud&&(a=new e(.3,"DKK").scale(t.transactions)),t.features.recurring&&(n=new e(1/12,"DKK").scale(t.transactions)),{setup:new e(999,"DKK").add(n),monthly:new e(299,"DKK"),trans:new e(r,"DKK").scale(Math.max(t.transactions-500,0)).add(a).add(n)}}},{name:"Netaxept Start",logo:"netaxept.svg",link:"https://www.terminalshop.dk/Netaxept/",features:t(["antifraud"]),acquirers:t(["nets","teller"]),cards:t(["dankort","visa","mastercard"]),costfn:function(t){return{setup:new e(1005,"DKK"),monthly:new e(180,"DKK"),trans:new e(1.5,"DKK").scale(t.transactions)}}},{name:"Netaxept Plus",logo:"netaxept.svg",link:"https://www.terminalshop.dk/Netaxept/",features:t(["antifraud"]),acquirers:t(["nets","teller","elavon","swedbank","nordea"]),cards:t(["dankort","visa","mastercard","diners","jcb","amex","unionpay"]),costfn:function(t){return{setup:new e(3016,"DKK"),monthly:new e(502,"DKK"),trans:new e(1,"DKK").scale(t.transactions)}}},{name:"Netaxept Advanced",logo:"netaxept.svg",link:"https://www.terminalshop.dk/Netaxept/",features:t(["antifraud","recurring"]),acquirers:t(["nets","teller","elavon","swedbank","nordea"]),cards:t(["dankort","visa","mastercard","diners","jcb","amex","unionpay"]),costfn:function(t){var n=0;return t.features.recurring&&(n=new e(250,"DKK")),{setup:new e(7540,"DKK"),monthly:new e(703,"DKK").add(n),trans:new e(.7,"DKK").scale(t.transactions)}}},{name:"Payer",logo:"payer.svg",link:"http://payer.se/betallosning/",features:{},acquirers:t(["handelsbanken","swedbank","nordea"]),cards:t(["visa","mastercard","maestro","diners","amex"]),costfn:function(t){return{setup:new e(1400,"SEK"),monthly:new e(400,"SEK"),trans:new e(2,"SEK").scale(t.transactions)}}},{name:"Paymill",logo:"paymill.svg",link:"https://paymill.com",features:t(["antifraud","recurring"]),cards:t(["visa","mastercard","maestro","diners","jcb","amex","unionpay"]),costfn:function(t){return{setup:new e(0,"EUR"),monthly:new e(0,"EUR"),trans:t.avgvalue.scale(2.95/100).add(new e(.28,"EUR")).scale(t.transactions)}}},{name:"PayPal",logo:"paypal.svg",link:"https://paypal.com",features:t(["antifraud","recurring"]),cards:t(["visa","mastercard","maestro","diners","jcb","amex"]),costfn:function(n){var a=n.transactions*n.avgvalue.dkk(),t=1.9;return 8e5>=a&&(t=2.4),4e5>=a&&(t=2.7),8e4>=a&&(t=2.9),2e4>=a&&(t=3.4),{setup:new e(0,"DKK"),monthly:new e(0,"DKK"),trans:n.avgvalue.scale(t/100).add(new e(2.6,"DKK")).scale(n.transactions)}}},{name:"Payson",logo:"payson.png",link:"https://www.payson.se",features:t(["antifraud"]),cards:t(["visa","mastercard","maestro"]),costfn:function(t){return{setup:new e(0,"SEK"),monthly:new e(0,"SEK"),trans:t.avgvalue.scale(.03).add(new e(3,"SEK")).scale(t.transactions)}}},{name:"Payza",logo:"payza.svg",link:"https://payza.com",features:t(["antifraud"]),cards:t(["visa","mastercard","maestro"]),costfn:function(t){return{setup:new e(0,"EUR"),monthly:new e(20,"EUR"),trans:t.avgvalue.scale(.025).add(new e(.25,"EUR")).scale(t.transactions)}}},{name:"Verifone Bas",logo:"verifone.svg",link:"http://www.verifone.se/sv/Sweden/Start/E-handel/",features:{},acquirers:t(["handelsbanken","nordea","swedbank"]),cards:t(["visa","mastercard","diners","jcb","amex"]),costfn:function(t){return{setup:new e(999,"SEK"),monthly:new e(199,"SEK"),trans:new e(4,"SEK").scale(Math.max(t.transactions-100,0))}}},{name:"Verifone Premium",logo:"verifone.svg",link:"http://www.verifone.se/sv/Sweden/Start/E-handel/",features:{},acquirers:t(["handelsbanken","nordea","swedbank"]),cards:t(["visa","mastercard","diners","jcb","amex"]),costfn:function(t){return{setup:new e(2499,"SEK"),monthly:new e(499,"SEK"),trans:new e(2.5,"SEK").scale(Math.max(t.transactions-400,0))}}},{name:"Verifone PremiumPlus",logo:"verifone.svg",link:"http://www.verifone.se/sv/Sweden/Start/E-handel/",features:{},acquirers:t(["nets","handelsbanken","nordea","swedbank"]),cards:t(["dankort","visa","mastercard","diners","amex","jcb"]),costfn:function(t){return{setup:new e(4999,"SEK"),monthly:new e(1999,"SEK"),trans:new e(.75,"SEK").scale(Math.max(t.transactions-4e3,0))}}},{name:"Stripe",logo:"stripe.svg",link:"https://stripe.com",features:t(["antifraud","recurring"]),cards:t(["visa","mastercard","maestro","amex"]),costfn:function(t){return{setup:new e(0,"USD"),monthly:new e(0,"USD"),trans:t.avgvalue.scale(.017).add(new e(1.8,"DKK")).scale(t.transactions)}}},{name:"QuickPay Standard",logo:"quickpay.svg",link:"https://quickpay.net",features:t(["antifraud","recurring","multiacquirer"]),acquirers:t(["nets","teller","clearhaus"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay","forbrugsforeningen","mobilepay"]),costfn:function(t){return{setup:new e(0,"DKK"),monthly:new e(49,"DKK"),trans:new e(1,"DKK").scale(t.transactions)}}},{name:"QuickPay Professional",logo:"quickpay.svg",link:"https://quickpay.net",features:t(["antifraud","recurring","multiacquirer"]),acquirers:t(["nets","teller","clearhaus"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay","forbrugsforeningen","mobilepay"]),costfn:function(t){return{setup:new e(0,"DKK"),monthly:new e(149,"DKK"),trans:new e(.25,"DKK").scale(Math.max(t.transactions-250,0))}}},{name:"Scannet",logo:"scannet.png",link:"http://www.scannet.dk/hosting/betalingsloesning/",features:{},acquirers:t(["nets","teller"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay"]),costfn:function(t){return{setup:new e(950,"DKK"),monthly:new e(399,"DKK"),trans:new e(0,"DKK")}}},{name:"Skrill",logo:"skrill.svg",link:"https://skrill.com",features:t(["antifraud","recurring"]),cards:t(["visa","mastercard","maestro","diners","jcb","amex"]),costfn:function(t){var n=(t.transactions*t.avgvalue.dkk(),2.9);return{setup:new e(0,"EUR"),monthly:new e(21.75,"EUR"),trans:t.avgvalue.scale(n/100).add(new e(.25,"EUR")).scale(t.transactions)}}},{name:"Wannafind",logo:"wannafind.svg",link:"https://www.wannafind.dk/betalingsgateway/",features:t(["recurring","antifraud"]),acquirers:t(["nets","teller"]),cards:t(["dankort","visa","mastercard","maestro","diners","jcb","amex","unionpay"]),costfn:function(n){var t=0;return n.features.recurring&&(t=new e(99,"DKK")),{setup:new e(0,"DKK"),monthly:new e(198,"DKK").add(t),trans:new e(0,"DKK")}}},{name:"YourPay",logo:"yourpay.png",link:"http://yourpay.dk",features:{},cards:t(["visa","mastercard","maestro"]),costfn:function(t){var n=2.25;return{setup:new e(0,"DKK"),monthly:new e(0,"DKK"),trans:t.avgvalue.scale(n/100).scale(Math.max(t.transactions,0))}}},{name:"Klarna",logo:"klarna.svg",link:"https://klarna.se",product:"checkout",features:{},cards:t(["visa","mastercard","maestro"]),costfn:function(t){var n=2.95;return{setup:new e(3995,"SEK"),monthly:new e(599,"SEK"),trans:t.avgvalue.scale(n/100).scale(t.transactions)}}},{name:"2checkout",logo:"2checkout.svg",link:"https://www.2checkout.com",features:t(["antifraud","recurring"]),cards:t(["visa","mastercard","maestro","amex","jcb","diners"]),costfn:function(t){var n=2.4;return{setup:new e(0,"USD"),monthly:new e(0,"USD"),trans:t.avgvalue.scale(n/100).add(new e(.3,"USD")).scale(t.transactions)}}},{name:"Paylike",logo:"paylike.svg",link:"https://paylike.io",features:t(["antifraud"]),cards:t(["visa","mastercard","maestro"]),costfn:function(t){return{setup:new e(0,"DKK"),monthly:new e(0,"DKK"),trans:t.avgvalue.scale(.025).add(new e(.25,"EUR")).scale(t.transactions)}}}],q=a("table"),n,w,o,r,g,s="DKK";e.prototype.type="currency",e.prototype.print=function(){var t=Math.round(100*this.dkk()/p[s])/100,e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),2==e.length&&1==e[1].length&&(e[1]+="0"),e.join(",")+" "+i[s]},e.prototype.represent=function(){if(1===this.length())for(var e in this.amounts)return this.amounts[e]+" "+e;return this.dkk()/p[s]+" "+s},e.prototype.string=function(){if(1===this.length())for(var e in this.amounts)return this.amounts[e]+e;return this.dkk()/p[s]+s},e.prototype.length=function(){var e,t=0;for(e in this.amounts)this.amounts.hasOwnProperty(e)&&t++;return t},e.prototype.dkk=function(){var t=0;for(var e in this.amounts)this.amounts.hasOwnProperty(e)&&p.hasOwnProperty(e)&&(t+=p[e]*this.amounts[e]);return t},e.prototype.add=function(a){var t,n=new e(0,"DKK");for(t in this.amounts)this.amounts.hasOwnProperty(t)&&(n.amounts[t]=this.amounts[t]);for(t in a.amounts)a.amounts.hasOwnProperty(t)&&(n.amounts.hasOwnProperty(t)||(n.amounts[t]=0),n.amounts[t]+=a.amounts[t]);return n},e.prototype.is_equal_to=function(t){for(var e in this.amounts)if(this.amounts.hasOwnProperty(e)&&this.amounts[e]!==t.amounts[e])return!1;return!0},e.prototype.scale=function(a){var n=new e(0,"DKK");for(var t in this.amounts)this.amounts.hasOwnProperty(t)&&(n.amounts[t]=this.amounts[t]*a);return n};var _=j(),m={cards:{type:"bits",bits:function(){return f("ocards").length},get:function(a){var t={},r=f("ocards"),s=0;for(n=0;n<r.length;n++){var e=r[n];"init"===a&&e.addEventListener("click",d,!1),e.checked&&(t[e.id]=u[e.id],"visa"==e.id&&(t.mastercard=u.mastercard),s+=1<<n)}return"url"===a?s:t},set:function(t){var e=f("ocards");for(n=0;n<e.length;n++){var a=e[n];a.checked=0!==(t&1<<n)}}},features:{type:"bits",bits:function(){return f("ofeatures").length},get:function(t){var a={},r=f("ofeatures"),s=0;for(n=0;n<r.length;n++){var e=r[n];"init"===t&&e.addEventListener("click",d,!1),e.checked&&(a[e.id]=1,s+=1<<n)}return"url"===t?s:a},set:function(t){var e=f("ofeatures");for(n=0;n<e.length;n++){var a=e[n];a.checked=0!==(t&1<<n)}}},acquirers:{type:"bits",bits:function(){for(var e=a("acquirer").length,t=0;e>0;)e>>>=1,t++;return t},get:function(e){"init"===e&&a("acquirer").addEventListener("change",d,!1);var t=a("acquirer").value;if("url"===e)return a("acquirer").selectedIndex;if("auto"==a("acquirer").value)return l;var n={};return n[t]=l[t],n},set:function(e){e<a("acquirer").length&&(a("acquirer").selectedIndex=e)}},transactions:{type:"string",dirty_bits:1,get_dirty_bits:function(){return+(this.get()!==parseInt(a("transactions").defaultValue))},get:function(e){return C(a("transactions"),e)},set:function(e){O("transactions",e)}},avgvalue:{type:"currency",dirty_bits:1,get_dirty_bits:function(){return console.log("?????"),console.log(this.get()),console.log(v(a("avgvalue").defaultValue)),+!this.get().is_equal_to(v(a("avgvalue").defaultValue))},get:function(e){return P("avgvalue",e)},set:function(e){S("avgvalue",v(e))}},currency:{type:"string",dirty_bits:1,get_dirty_bits:function(){return+(this.get()!==a("currency_code_select").options[0].value)},get:function(){return s},set:function(t){for(var n=a("currency_code_select"),e=0;e<n.length;e++)if(n.options[e].value===t){n.selectedIndex=e,a("currency_code").innerHTML=t;break}k(t)}}};document.onkeydown=function(e){if(e=e||window.event,27===(e.keyCode||e.which)){var t=document.querySelectorAll(".overlay.active");for(var n in t)isNaN(n)||t[n].classList.remove("active")}};var K="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+/";c.prototype.pushbit=function(e){0===this.array.length&&this.array.push(0),this.bitpos>5&&(this.bitpos=0,this.array.push(0)),this.array[this.array.length-1]+=e<<this.bitpos,this.bitpos++},c.prototype.getbit=function(){this.bitpos>5&&(this.bitpos=0,this.pos++);var e=(this.array[this.pos]&1<<this.bitpos)>>>this.bitpos;return this.bitpos++,e},c.prototype.pushbits=function(t,n){for(var e=0;n>e;e++)this.pushbit((t&1<<e)>>>e)},c.prototype.encode=function(){for(var t="",e=0;e<this.array.length;e++)console.log("arr["+e+"] = "+this.array[e]),t+=K[this.array[e]];return t},c.prototype.pushbase64char=function(e){var t=K.indexOf(e);return 0>t?(console.log("Unexpected query character "+e),-1):(this.array.push(t),0)},c.prototype.getbits=function(n){for(var t=0,e=0;n>e;e++)t+=this.getbit()<<e;return t},d("init");